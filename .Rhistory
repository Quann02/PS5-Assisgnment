knitr::opts_chunk$set(echo = TRUE)
countries <- c("United States of America", "China", "India", "Afghanistan", "United Arab Emirates", "Australia")
co2_by_country <- df %>%
filter(name %in% countries) %>%
group_by(name, time) %>%
summarize(co2PC_sum = sum(co2_PC))
library(tidyverse)
library(tidyverse)
getwd()
setwd("/Users/phu/Documents/info201_assignment/PS5-dataset")
df <- read_delim("gapminder.csv.bz2")
dim(df)
dim(df)
getwd()
setwd("/Users/phu/Documents/info201_assignment/PS5-dataset")
getwd()
setwd("/Users/phu/Documents/info201_assignment/PS5-ASSIGNMENT")
df <- read_delim("gapminder.csv.bz2")
getwd()
setwd("/Users/phu/Documents/info201_assignment/PS5-Assisgnment")
df <- read_delim("gapminder.csv.bz2")
dim(df)
df <- read_delim("gapminder.csv.bz2")
dim(df)
dim(df)
head(df)
## View(df)
unique_iso2 <- distinct(df, iso2)
count(unique_iso2)
unique_iso3 <- distinct(df, iso3)
count(unique_iso3)
unique_countries <- distinct(df, name)
df %>%
select(iso3, name, iso2) %>%
group_by(iso3) %>%
summarise(name1 = n_distinct(name), iso_2 = n_distinct(iso2), iso_3 = n()) %>%
ungroup()
df %>%
group_by(iso2) %>%
summarize(n = n_distinct(name)) %>%
arrange(desc(n)) %>%
select(iso2, n) %>%
print()
df %>%
group_by(name) %>%
summarise(ncount = n_distinct(iso3)) %>%
select(name,ncount) %>%
arrange(desc(ncount)) %>%
print()
df %>%
filter(is.na(name)) %>%
distinct(iso3)
df %>%
filter(!is.na(time)) %>%
summarise(maximum_year = max(time), minimum_year = min(time))
df %>%
filter(is.na(co2_PC),is.na(co2)) %>%
group_by(time) %>%
summarise(years= n()) %>%
arrange(years) %>%
tail(3)
df %>%
select(iso3, name, iso2) %>%
group_by(iso3) %>%
summarise(name1 = n_distinct(name), iso_2 = n_distinct(iso2), iso_3 = n()) %>%
ungroup()
df %>%
filter(!is.na(time)) %>%
summarise(maximum_year = max(time), minimum_year = min(time))
df %>%
group_by(name) %>%
summarise(ncount = n_distinct(iso3)) %>%
select(name,ncount) %>%
arrange(desc(ncount)) %>%
print()
df %>%
filter(is.na(name)) %>%
distinct(iso3)
df %>%
group_by(iso2) %>%
summarize(n = n_distinct(name)) %>%
arrange(desc(n)) %>%
select(iso2, n) %>%
print()
unique_iso2 <- distinct(df, iso2)
count(unique_iso2)
unique_iso3 <- distinct(df, iso3)
count(unique_iso3)
unique_countries <- distinct(df, name)
count(unique_countries)
df %>%
select(iso3, name, iso2) %>%
group_by(iso3) %>%
summarise(name1 = n_distinct(name), iso_2 = n_distinct(iso2), iso_3 = n_distinct(iso3)) %>%
ungroup()
df %>%
select(iso3, name, iso2) %>%
group_by(iso3) %>%
summarise(name1 = n_distinct(name), iso_2 = n_distinct(iso2), iso_3 = n()) %>%
ungroup()
# Count the number of occurrences of each country in the df dataframe using iso-2 codes
count_iso2 <- df %>% group_by(name) %>% summarise(n_iso2 = n_distinct(iso2))
# Show the countries with more than one iso-2 code assigned to them
filter(count_iso2, n_iso2 > 1)
# Count the number of occurrences of each country in the df dataframe using iso-3 codes
count_iso3 <- df %>% group_by(name) %>% summarise(n_iso3 = n_distinct(iso3))
# Show the countries with more than one iso-3 code assigned to them
filter(count_iso3, n_iso3 > 1)
df %>%
group_by(name) %>%
summarise(n_iso2 = n_distinct(iso2)) %>%
filter(count_iso2, n_iso2 > 1) %>%
count_iso3 <- df %>% group_by(name) %>% summarise(n_iso3 = n_distinct(iso3)) %>%
filter(count_iso3, n_iso3 > 1)
df %>%
group_by(name) %>%
summarise(n_iso2 = n_distinct(iso2))
filter(count_iso2, n_iso2 > 1)
count_iso3 <- df %>% group_by(name) %>% summarise(n_iso3 = n_distinct(iso3))
filter(count_iso3, n_iso3 > 1)
df %>%
group_by(name) %>%
summarise(n_iso3 = n_distinct(iso3))
filter(count_iso3, n_iso3 > 1)
df %>%
group_by(name) %>%
summarise(n_iso3 = n_distinct(iso3))
filter(count_iso3, n_iso3 > 1)
df %>%
group_by(name) %>%
summarise(n_iso3 = n_distinct(iso3))
filter(count_iso3, n_iso3 > 1)
df %>%
group_by(name) %>%
summarise(n_iso3 = n_distinct(iso3)) %>%
filter(count_iso3, n_iso3 > 1)
unique_iso2 <- distinct(df, iso2)
count(unique_iso2)
unique_iso3 <- distinct(df, iso3)
count(unique_iso3)
unique_countries <- distinct(df, name)
count(unique_countries)
df %>%
group_by(name) %>%
summarise(n_iso3 = n_distinct(iso3))
filter(count_iso3, n_iso3 > 1)
getwd()
setwd("/Users/phu/Documents/info201_assignment/PS5-Assisgnment")
df <- read_delim("gapminder.csv.bz2")
getwd()
setwd("/Users/phu/Documents/info201_assignment/PS5-Assisgnment")
df <- read_delim("gapminder.csv.bz2")
dim(df)
df %>%
filter(time %in% c(1960, 2019), !is.na(GDP_PC)) %>%
ggplot(aes(x = GDP_PC, fill = factor(time))) +
geom_histogram(alpha = 0.9, position = "dodge", bins = 45) +
scale_fill_manual(values = c("orange", "purple"), labels = c("1960", "2019")) +
labs(x = "GDP per capita", y = "Count", fill = "year") +
theme_minimal()
df %>%
filter(is.na(co2_PC),is.na(co2)) %>%
group_by(time) %>%
summarise(years= n()) %>%
arrange(years) %>%
tail(3)
